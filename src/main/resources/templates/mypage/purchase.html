<!DOCTYPE html>
<html lang="ko">
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>book-store < 도서결제</title>
    <link rel="shortcut icon" type="image/x-icon" th:href="@{/images/favicon.png}">
    <script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
    <!-- iamport -->
    <script type="text/javascript" src="https://cdn.iamport.kr/js/iamport.payment-1.1.5.js"></script>
    <script src="https://cdn.iamport.kr/v1/iamport.js"></script>
    <!-- 폰트, 아이콘 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&family=Noto+Sans+KR&family=Roboto&display=swap" rel="stylesheet">
    <!-- css -->
    <link rel="stylesheet" th:href="@{/css/reset.css}">
    <link rel="stylesheet" th:href="@{/css/fragment/header.css}">
    <link rel="stylesheet" th:href="@{/css/fragment/footer.css}">
    <link rel="stylesheet" th:href="@{/css/fragment/side_menu.css}">
    <link rel="stylesheet" th:href="@{/css/mypage/purchase.css}">
    <link rel="stylesheet" th:href="@{/css/mypage/responsive.css}">
    <!-- <link rel="stylesheet" href="/static/css/reset.css">
    <link rel="stylesheet" href="/static/css/fragment/header.css">
    <link rel="stylesheet" href="/static/css/fragment/footer.css">
    <link rel="stylesheet" href="/static/css/fragment/side_menu.css">
    <link rel="stylesheet" href="/static/css/mypage/purchase.css"> -->
</head>

<body>
    <th:block th:if="${session.id == null}">
        <script>
            alert("로그인 하신 후, 사용할 수 있습니다.");
            location.href = "/login";
        </script>
    </th:block>
    <div id="container">
        <header id="header" th:insert="~{fragment/header::headers}"></header>

        <main class="main-container">
            <div class="serve-container">
                <!--main-container basis 1 -->
                <!-- mypage-menu -->
                <div th:insert="~{mypage/fragment/mypage_menu::mypageMenu}" class="menu-container"></div>
                
                <!--main-container basis 2 -->
                <div class="book-purchase-list">
                    <h1>
                        <input type="checkbox" id="selectAll" onclick="selectAll()"> 도서 결제
                    </h1>
                    <hr>

                    <div class="third-container">
                        <div class="purchase-container">
                            <!-- purchase-container basis 1 -->
                            <div class="book-cointainer" th:each="book: ${book}">
                                <div class="book-main-container">
                                    <div class="image-input-container">
                                        <input type="checkbox" name="check" class="check" onclick="checkboxClick()">
                                        <div class="image-container">
                                            <img th:src="@{/images/no_image_pink.jpg}" alt="도서이미지">
                                        </div>
                                    </div>
                                    <div class="book-data">
                                        <table>
                                            <tbody>
                                                <tr>
                                                    <td>AL0000002747</td>
                                                </tr>
                                                <tr>
                                                    <td>도서제목</td>
                                                    <td>[[${book.bookName}]]</td>
                                                </tr>
                                                <tr>
                                                    <td>작가</td>
                                                    <td>[[${book.author}]]</td>
                                                </tr>
                                                <tr>
                                                    <td>출판사</td>
                                                    <td>[[${book.publisher}]]</td>
                                                </tr>
                                                    <td>출판연도</td>
                                                    <td>[[${book.publicationDate}]]</td>
                                                <tr>
                                                    <td>분류</td>
                                                    <td>[[${book.category}]]</td>
                                                </tr>
                                                <tr>
                                                    <td>가격</td>
                                                    <td>[[${book.price}]]</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="button-container">
                                        <img th:src="@{/images/mypage/payment_icon_yellow_medium.png}" alt="카카오페이지" id="kakaobutton">
                                        <button onclick="requestPay()">결제하기</button>
                                    </div>
                                </div>
                                
                            </div>

                            
                            <div class="purchase-box-container" id="purchaseBox">
                                <div class="right-box">
                                    <div class="book-title">
                                        <label>도서명</label>
                                        <p>Lorem ipsum dolor sit amet.</p>
                                    </div>
                                    <div class="total-count">
                                        <label>수량</label>
                                        <span>
                                            <button><i class="fa-solid fa-minus minus"></i></button>
                                            <input type="text" defalut="1">
                                            <button><i class="fa-solid fa-plus plus"></i></button>
                                        </span>
                                    </div>
                                    <div class="book-price">
                                        <label>금액</label>
                                        <span>1,000원</span>
                                    </div>
                                    <!-- <hr class="split-line"> -->
                                  
                                    <hr>
                                    <div class="total-price">
                                        <p>총 결제 금액</p>
                                        <p>1,000원</p>
                                    </div>
                                </div>
                            </div>
                        </div> 


                    </div>  
                </div>
            </div>
        </main>
        <footer id ="footer" th:insert="~{fragment/footer::footers}"></footer>
    </div>
    <script th:src="@{/js/fragment/header.js}"></script>
    <script th:src="@{/js/fragment/side_menu.js}"></script>
    <script th:src="@{/js/mypage/checkBox.js}"></script>
    <script src="/js/mypage/kakaoPay.js"></script>
    <script src="/js/mypage/portone.js"></script>
    <script src="/js/mypage/right_box_scroll.js"></script>
</body>

</html>